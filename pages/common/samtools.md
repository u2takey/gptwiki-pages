# samtools 
## chatgpt 
The command "samtools" is a software tool designed for working with files in SAM (Sequence Alignment/Map) and BAM (Binary Alignment/Map) format, which are commonly used in bioinformatics to represent sequence alignment data generated by sequencing experiments.

The "samtools" command has several subcommands, each with its own specific functionality. These subcommands include:

- "view": for converting between SAM and BAM formats, filtering alignments based on criteria such as mapping quality or flag values, and extracting alignments from a region or a list of regions.
- "sort": for sorting alignments in a BAM file by position or name, or by the order of alignment in a SAM file.
- "index": for creating an index file for a BAM file, which allows for faster retrieval of alignment data from a specific region.
- "stats": for generating basic statistics on the alignment data, such as the number of alignments, the overall mapping quality, and the distribution of read lengths.
- "mpileup": for generating pileup of reads at each position of the reference genome, which can be used for calling SNPs, indels, or consensus sequences.
- "depth": for generating the depth of coverage at each position of the reference genome, which can be used for assessing the quality of sequencing and the completeness of genome assembly.
- "flagstat": for generating a summary of the flag values of the alignments, which can be used for assessing the quality of sequencing and the biases of library preparation.

Overall, the "samtools" command is a powerful and versatile tool for working with sequence alignment data, and is widely used in bioinformatics research and analysis. 

## tldr 
 
> Tools for handling high-throughput sequencing (genomics) data.
> Used for reading/writing/editing/indexing/viewing of data in SAM/BAM/CRAM format.
> More information: <https://www.htslib.org>.

- Convert a SAM input file to BAM stream and save to file:

`samtools view -S -b {{input.sam}} > {{output.bam}}`

- Take input from `stdin` (-) and print the SAM header and any reads overlapping a specific region to `stdout`:

`{{other_command}} | samtools view -h - chromosome:start-end`

- Sort file and save to BAM (the output format is automatically determined from the output file's extension):

`samtools sort {{input}} -o {{output.bam}}`

- Index a sorted BAM file (creates {{sorted_input.bam.bai}}):

`samtools index {{sorted_input.bam}}`

- Print alignment statistics about a file:

`samtools flagstat {{sorted_input}}`

- Count alignments to each index (chromosome / contig):

`samtools idxstats {{sorted_indexed_input}}`

- Merge multiple files:

`samtools merge {{output}} {{input1 input2 â€¦}}`

- Split input file according to read groups:

`samtools split {{merged_input}}`

# opensnoop 
## chatgpt 
opensnoop是macOS（以及其他类Unix系统）上的一个命令行工具，它可以实时地捕获并显示正在打开的文件、目录以及套接字的信息。 它可以帮助用户了解正在运行的进程涉及的文件和目录，有助于调试和分析系统问题。opensnoop可以在终端中输入以下命令运行：

```
sudo opensnoop
```

运行该命令需要管理员权限。opensnoop将列出所有正在打开的文件、目录和套接字，并显示与文件或目录关联的进程ID和名称，打开文件或目录的时间戳，以及打开文件或目录的方法。该命令还支持过滤器选项，其中一些常见选项包括：

- -p PID：指定只捕获由特定PID启动的进程的文件和目录信息。
- -n NAME：指定只捕获特定名称的进程的文件和目录信息。
- -f FILE：指定只捕获相关文件或目录名称包含指定字符串的文件和目录信息。

opensnoop是一种非常强大的监测工具，可以帮助用户深入了解正在运行的进程的工作方式。然而，由于它会在实时捕获所有文件和目录信息，因此会产生大量的输出，并可能会影响系统性能。因此，建议在需要时才运行该命令，并在使用完毕后立即停止。 

## tldr 
 
> 跟踪系统中打开的文件标识符。
> 更多信息：<https://ss64.com/osx/opensnoop.html>.

- 输出当前系统内被打开的所有文件：

`sudo opensnoop`

- 跟踪给定进程名，打开的所有文件：

`sudo opensnoop -n {{进程名}}`

- 跟踪给定 PID（进程号），打开的所有文件：

`sudo opensnoop -p {{PID 进程号}}`

- 跟踪打开了指定文件的继承：

`sudo opensnoop -f {{路径 / 文件}}`

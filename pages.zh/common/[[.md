# [[ 
## chatgpt 
[[  ]] 是一种用于条件测试的 shell 内部命令。它在某种程度上类似于 [ ] 命令，但提供了更多的操作符和功能。它主要用于比较字符串、进行数学运算和判断文件属性等方面，而且它是 Bash Shell 的扩展命令。

使用格式：[[ expression ]]

其中，expression 可以是需要测试的条件表达式，可以使用各种运算符和方法来获取测试结果。常见的运算符和方法包括：

1.字符串比较运算符：

= : 字符串相等
!= : 字符串不相等
<  : 小于
<= : 小于或等于
>  : 大于
>= : 大于或等于

例如：

```
if [[ "$str1" = "$str2" ]]; then
    echo "两个字符串相等"
fi
```

2.数字比较运算符：

-eq : 等于
-ne : 不等于
-lt : 小于
-le : 小于等于
-gt : 大于
-ge : 大于等于

例如：

```
if [[ "$num1" -gt "$num2" ]]; then
    echo "num1 大于 num2"
fi
```

3.文件测试操作符：

-d file : 文件是否存在，并且是一个目录
-e file : 文件是否存在
-f file : 文件是否存在，并且是一个常规文件
-r file : 文件是否存在，并且可读
-w file : 文件是否存在，并且可写
-x file : 文件是否存在，并且可执行
-s file : 文件是否存在，并且非空

例如：

```
if [[ -d "/usr/local/bin" ]]; then
    echo "/usr/local/bin 是一个目录"
fi
```

4.逻辑运算符：

&& : 与
|| : 或
!  : 非

例如：

```
if [[ "$num1" -gt "$num2" && "$str1" = "$str2" ]]; then
    echo "num1 大于 num2 并且 str1 等于 str2"
fi
```

总的来说，[[ ]] 命令是 shell 编程中非常强大的一种条件测试工具，可以用于字符串比较、数字比较、文件测试等方面，帮助开发人员完成非常复杂的逻辑运算和条件判断。 

## tldr 
 
> 检查文件类型，比较数值。
> 如果条件计算结果为真返回 0，如果计算结果为假返回 1。
> 更多信息：<https://www.gnu.org/software/bash/manual/bash.html#index-_005b_005b>.

- 测试一个给定的变量是否等于/不等于指定的字符串：

`[[ ${{变量}} {{==|!=}} "{{字符串}}" ]]`

- 测试一个给定的变量是否符合指定的通配符/正则表达式：

`[[ ${{变量}} {{==|=~}} {{模式}} ]]`

- 测试一个给定的变量是否等于/不等于/大于/小于/大于等于/小于等于指定的数字：

`[[ ${{变量}} -{{eq|ne|gt|lt|ge|le}} {{数字}} ]]`

- 测试指定的变量的值是否非空：

`[[ -n ${{变量}} ]]`

- 测试指定的变量的值是否为空：

`[[ -z ${{变量}} ]]`

- 测试指定文件是否存在：

`[[ -f {{路径/到/文件}} ]]`

- 测试指定目录是否存在：

`[[ -d {{路径/到/目录}} ]]`

- 测试指定文件或目录是否存在：

`[[ -e {{路径/到/文件或目录}} ]]`

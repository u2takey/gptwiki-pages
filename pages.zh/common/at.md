# at 
## chatgpt 
命令 "at" 用于安排一个命令或脚本在将来的某个时间以 root 身份运行。它可以用于延迟执行某个命令或在特定的时间运行它。该命令可以在后台运行，而不需要用户干预。

at 命令的语法如下：

at [-V] [-q queue] [-f file] [-mldbv] TIME

选项：
-V：显示 at 的版本信息
-q：指定队列来提交任务，如果省略，则使用 ‘a’ 队列
-f：指定命令所在的文件，默认不指定
-m：指定邮件通知接收人
-l：列出当前待执行的任务
-d：删除待执行的任务
-b：在后台运行任务
-v：输出任务执行的详细信息

TIME 是一个可以表示时间的字符串，可选的格式有：
- HH:MM 以 24 小时格式表示时间。例如，22:30 表示晚上 10:30。
- HH:MM AM/PM 以 AM/PM 格式表示时间。例如，08:30 PM 表示晚上 8:30。
- now + number units，number 是一个数字，units 是一个单位。例如，now + 5 minutes 表示在当前时间的五分钟后运行命令。

当您添加任务后，它将被系统放置在待执行队列中。任务将在指定时刻被执行，并将输出结果作为邮件发送给用户（除非使用了 -m 选项取消此行为）。如果任务需要自己的数据输入，那么需要自己在脚本中引用。如果需要查看计划中的所有任务列表，可以使用命令 'atq'。如果要删除任务或取消任务，可以使用 'atrm' 命令。 

## tldr 
 
> 在一段时间后，执行单次命令。
> atd 服务（或 atrun）需要处于运行状态，以保证命令成功执行。
> 更多信息：<https://manned.org/at>.

- 5 分钟后，执行标准输入中的命令（命令输入完成后按 `Ctrl + D`）：

`at now + {{5 minutes}}`

- 在今天上午 10:00 执行标准输入中的命令：

`echo "{{./make_db_backup.sh}}" | at {{1000}}`

- 下周二晚上 9:30 执行指定文件中包含的命令：

`at -f {{path/to/file}} {{9:30 PM Tue}}`

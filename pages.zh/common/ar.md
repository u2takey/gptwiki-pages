# ar 
## chatgpt 
ar 是一个用于创建、修改和管理静态库文件的命令，是 GNU binutils 中的工具之一。

具体使用方式有多种，下面列出几个常见的用法：

1. 创建静态库文件

`ar rcs libtest.a file1.o file2.o file3.o`

上述命令创建了一个名为 libtest.a 的静态库文件，其中包含了三个目标文件 file1.o、file2.o 和 file3.o。

其中：

- r 表示替换静态库文件中同名的目标文件，若文件中没有同名的，会将其添加到文档中；
- c 表示创建库文件，若库文件不存在，则会新建一个；
- s 表示为每个目标文件添加符号表，通常情况下，创建静态库文件都需要添加此选项。

2. 查看静态库文件信息

`ar t libtest.a`

该命令用于查看 libtest.a 静态库文件中包含的目标文件清单。

3. 提取静态库文件中的目标文件

`ar x libtest.a`

该命令用于将 libtest.a 静态库文件中的目标文件提取出来。

4. 向静态库文件添加目标文件

`ar r libtest.a file4.o`

上述命令将 file4.o 目标文件添加到静态库文件 libtest.a 中。

5. 删除静态库文件中的目标文件

`ar d libtest.a file2.o`

上述命令将静态库文件 libtest.a 中的目标文件 file2.o 删除。

除了上述常见的用法外，ar 命令还有其他一些用法，例如：使用 ar 命令对静态库文件进行压缩并创建带索引表的归档文件，使用 ar 命令进行符号表维护等等。 

## tldr 
 
> 创建，修改，提取库文件（`.a`, `.so`, `.o`）。
> 更多信息：<https://manned.org/ar>.

- 从库文件中提取全部成员：

`ar -x {{a 文件}}`

- 列出库文件中的成员：

`ar -t {{a 文件}}`

- 替换或添加文件到库文件：

`ar -r {{要被添加内容的 a 文件}} {{o 文件 1}} {{o 文件 2}} {{o 文件 3}}`

- 插入对象文件索引（相当于使用`ranlib`）：

`ar -s {{a 文件}}`

- 使用文件和附带的目标文件索引创建存档：

`ar -rs {{a 文件}} {{o 文件 1}} {{o 文件 2}} {{o 文件 3}}`
